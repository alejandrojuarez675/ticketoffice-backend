{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/v1/sold-tickets/{id}":{"get":{"tags":["admin-sold-tickets"],"summary":"Get all the information of an Ticket by ID","description":"Endpoint to get a specific Ticket by its ID for the logged in user","operationId":"getTicket","parameters":[{"name":"id","in":"path","description":"The ID of the Ticket to be retrieved","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Ticket retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketResponse"}}}},"404":{"description":"Ticket not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketResponse"}}}}},"security":[{"Authorization":[]}]},"put":{"tags":["admin-sold-tickets"],"description":"Endpoint to update an Ticket. You have to be logged as ADMIN to update an Ticket.","operationId":"putTickets","parameters":[{"name":"id","in":"path","description":"The ID of the Ticket to be retrieved","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketCrudRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketLightResponse"}}}}},"security":[{"Authorization":[]}]},"delete":{"tags":["admin-sold-tickets"],"description":"Endpoint to delete an Ticket. You have to be logged as ADMIN to delete an Ticket.","operationId":"deleteTicket","parameters":[{"name":"id","in":"path","description":"The ID of the Ticket to be retrieved","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}},"security":[{"Authorization":[]}]}},"/api/v1/events/{id}":{"put":{"tags":["admin-events"],"description":"Endpoint to update an event. You have to be logged as ADMIN to update an event.","operationId":"putEvents","parameters":[{"name":"id","in":"path","description":"The ID of the event to be retrieved","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCrudRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventLightResponse"}}}}},"security":[{"Authorization":[]}]},"delete":{"tags":["admin-events"],"description":"Endpoint to delete an event. You have to be logged as ADMIN to delete an event.","operationId":"deleteEvent","parameters":[{"name":"id","in":"path","description":"The ID of the event to be retrieved","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}},"security":[{"Authorization":[]}]}},"/v1/sold-tickets":{"get":{"tags":["admin-sold-tickets"],"description":"Endpoint to get all Tickets for the logged in user","operationId":"getTickets","responses":{"200":{"description":"Tickets retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketListResponse"}}}}},"security":[{"Authorization":[]}]},"post":{"tags":["admin-sold-tickets"],"description":"Endpoint to create a new Ticket. You have to be logged as ADMIN to create an Ticket.","operationId":"postTickets","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketCrudRequest"}}},"required":true},"responses":{"201":{"description":"Ticket created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TicketLightResponse"}}}}},"security":[{"Authorization":[]}]}},"/public/v1/buy-tickets":{"get":{"tags":["public-endpoints"],"summary":"Get the buy tickets page","description":"This endpoint is used to get the buy tickets page.\nThis endpoint should be called when the user charge the page.","operationId":"getBuyTickets","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AvailableTicketListResponse"}}}}},"security":[{"Authorization":[]}]},"post":{"tags":["public-endpoints"],"summary":"Buy tickets for an event","description":"Endpoint to buy tickets for an event. You have to be logged in as buyer to buy tickets.","operationId":"buyTickets","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuyTicketsRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BuyTicketResponse"}}}}},"security":[{"Authorization":[]}]}},"/auth/signup":{"post":{"tags":["public-endpoints","MVP","Authentication"],"summary":"User Signup","description":"Endpoint to register a new user","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSignupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}}}},"/auth/login":{"post":{"tags":["public-endpoints","MVP","Authentication"],"summary":"User Login","description":"Endpoint to authenticate a user","operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}}}},"/api/v1/events":{"get":{"tags":["admin-events"],"description":"Endpoint to get all events for the logged in user","operationId":"getEvents","responses":{"200":{"description":"Events retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventListResponse"}}}}},"security":[{"Authorization":[]}]},"post":{"tags":["admin-events","MVP"],"summary":"Create a new event","description":"Endpoint to create a new event. You have to be logged as ADMIN to create an event.","operationId":"postEvents","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventCrudRequest"}}},"required":true},"responses":{"201":{"description":"Event created successfully"},"400":{"description":"Event is not valid","content":{"application/json":{"example":{"code":"bad_error","message":"Event name is too large"}}}}},"security":[{"Authorization":[]}]}},"/api/public/v1/question-and-answer":{"post":{"tags":["public-endpoints"],"summary":"Contact to us endpoint","description":"This endpoint is used to send a question to the support team.\nThis endpoint should be called when the user wants to ask a question.","operationId":"contactToUs","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactToUsRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/users":{"get":{"tags":["admin-endpoints","User Management"],"summary":"Get all users","description":"Endpoint to retrieve all users in the system","operationId":"allUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}},"security":[{"Authorization":[]}]}},"/users/me":{"get":{"tags":["MVP","User Management"],"summary":"Get authenticated user","description":"Endpoint to retrieve the currently authenticated user","operationId":"authenticatedUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"Authorization":[]}]}},"/public/v1/congrats":{"get":{"tags":["public-endpoints"],"summary":"Get the congrats page","description":"This endpoint is used to get the congrats page after a successful purchase.\nThis endpoint should be called when the user charge the page.","operationId":"getCongrats","parameters":[{"name":"salesId","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Congrats page retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CongratsResponse"}}}},"404":{"description":"Sales not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CongratsResponse"}}}}},"security":[{"Authorization":[]}]}},"/api/public/v1/search":{"get":{"tags":["public-endpoints"],"summary":"Search for events","description":"Endpoint to search for events and fill the search page.\nThis endpoint should be called when the user charge the page or types something in the search bar.","operationId":"search","parameters":[{"name":"city","in":"query","required":true,"schema":{"type":"string"}},{"name":"query","in":"query","required":false,"schema":{"type":"string","default":""}},{"name":"category","in":"query","required":false,"schema":{"type":"string","default":"all"}},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":9}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":1}}],"responses":{"200":{"description":"Search performed successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}}}}},"/api/public/v1/event/{id}":{"get":{"tags":["public-endpoints","MVP"],"summary":"Get all the information of an event by ID","description":"Endpoint to get a specific event by its ID formatted for detail page","operationId":"getEvent","parameters":[{"name":"id","in":"path","description":"The ID of the event to be retrieved","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Event retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDetailPageResponse"}}}},"400":{"description":"Event id is not valid","content":{"application/json":{"example":{"code":"bad_found","message":"Event id is not valid"}}}},"404":{"description":"Event not found","content":{"application/json":{"example":{"code":"not_found","message":"Event not found"}}}}}}}},"components":{"schemas":{"TicketCrudRequest":{"type":"object"},"TicketLightResponse":{"type":"object","properties":{"id":{"type":"string"},"eventId":{"type":"string"},"userId":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"price":{"type":"number","format":"double"}}},"EventCrudRequest":{"type":"object","properties":{"title":{"type":"string","description":"The title of the event","example":"Concierto de Trueno"},"date":{"type":"string","format":"date-time","description":"The date of the event","example":"2022-01-01T20:00:00"},"location":{"$ref":"#/components/schemas/LocationDTO","description":"The location of the event"},"image":{"$ref":"#/components/schemas/ImageDTO","description":"The image of the event"},"prices":{"type":"array","description":"The prices of the event","items":{"$ref":"#/components/schemas/PriceDTO"}},"description":{"type":"string","description":"The description of the event","examples":["Trueno es uno de los grandes artistas latinoamericanos de nuestros tiempos. Un rapero que comenzó destacándose en las batallas de freestyle en su natal Buenos Aires y hoy ha logrado el reconocimiento internacional además de acumular millones de oyentes en plataformas digitales. Este 7 de junio el Movistar Arena será testigo del prime de uno de los nuevos grandes del universo urbano."]},"additionalInfo":{"type":"array","description":"The additional info of the event","example":["Prohibido el ingreso de menores de edad","No se permite el ingreso de alimentos y bebidas","No se permite el ingreso de cámaras fotográficas"],"items":{"type":"string"}},"organizerId":{"type":"string","description":"The organizer of the event information","example":"001b2f30-9a84-45e1-9345-518bea8a77c8"}}},"ImageDTO":{"type":"object","properties":{"url":{"type":"string","description":"The URL of the image","example":"https://movistararena.co/wp-content/uploads/2025/02/trueno-2025-4.jpg"},"alt":{"type":"string","description":"The alt text of the image","example":"Concierto de Trueno"}}},"LocationDTO":{"type":"object","properties":{"name":{"type":"string","description":"The name of the location","example":"Movistar Arena"},"address":{"type":"string","description":"The address of the location","example":"Dg. 61c #26-36"},"city":{"type":"string","description":"The city of the location","example":"Bogotá"}}},"PriceDTO":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the price","example":"001b2f30-9a84-45e1-9345-518bea8a77c8"},"value":{"type":"number","format":"double","description":"The value of the price","example":100.0},"currency":{"type":"string","description":"The currency of the price","example":"$"},"type":{"type":"string","description":"The type of the price","example":"General"},"isFree":{"type":"boolean","description":"The description of the price","example":false}}},"EventLightResponse":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"date":{"type":"string","format":"date-time"},"location":{"type":"string"},"bannerUrl":{"type":"string"},"price":{"type":"number","format":"double"},"currency":{"type":"string"}}},"BuyTicketsRequest":{"type":"object","properties":{"eventId":{"type":"string"},"ticketId":{"type":"string"},"quantity":{"type":"integer","format":"int32"},"buyerName":{"type":"string"},"buyerLastname":{"type":"string"},"buyerPhone":{"type":"string"},"buyerIdentification":{"type":"string"},"buyerEmail":{"type":"string"}}},"BuyTicketResponse":{"type":"object","properties":{"success":{"type":"boolean"},"congratsToken":{"type":"string"}}},"UserSignupRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"}}},"LoginResponse":{"type":"object","properties":{"token":{"type":"string"},"expiresIn":{"type":"integer","format":"int64"}}},"UserLoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"ContactToUsRequest":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"message":{"type":"string"},"originUrl":{"type":"string"}}},"TicketListResponse":{"type":"object","properties":{"tickets":{"type":"array","items":{"$ref":"#/components/schemas/TicketLightResponse"}}}},"TicketResponse":{"type":"object","properties":{"id":{"type":"string"},"eventId":{"type":"string"},"userId":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"price":{"type":"number","format":"double"}}},"UserResponse":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"role":{"type":"array","items":{"type":"string"}}}},"CongratsResponse":{"type":"object","properties":{"eventId":{"type":"string"},"eventName":{"type":"string"},"eventDate":{"type":"string"},"eventLocation":{"type":"string"},"eventCity":{"type":"string"},"ticketPrice":{"type":"number","format":"double"},"ticketName":{"type":"string"},"saleId":{"type":"string"}}},"AvailableTicketListResponse":{"type":"object","properties":{"tickets":{"type":"array","items":{"$ref":"#/components/schemas/AvailableTicketResponse"}},"information":{"type":"string"}}},"AvailableTicketResponse":{"type":"object","properties":{"id":{"type":"string"},"eventId":{"type":"string"},"eventName":{"type":"string"},"ticketPrice":{"type":"number","format":"double"},"ticketName":{"type":"string"},"availableQuantity":{"type":"integer","format":"int32"}}},"EventListResponse":{"type":"object","properties":{"events":{"type":"array","items":{"$ref":"#/components/schemas/EventLightResponse"}}}},"SearchResponse":{"type":"object","properties":{"events":{"type":"array","items":{"$ref":"#/components/schemas/EventLightResponse"}},"hasEventsInYourCity":{"type":"boolean"}}},"EventDetailPageResponse":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the event","example":"cbb46e0f-1014-41f9-bf63-ba1203197ce8"},"title":{"type":"string","description":"The title of the event","example":"Concierto de Trueno"},"date":{"type":"string","format":"date-time","description":"The date of the event","example":"2022-01-01T20:00:00"},"location":{"$ref":"#/components/schemas/LocationDTO","description":"The location of the event"},"image":{"$ref":"#/components/schemas/ImageDTO","description":"The image of the event"},"prices":{"type":"array","description":"The prices of the event","items":{"$ref":"#/components/schemas/PriceDTO"}},"description":{"type":"string","description":"The description of the event","examples":["Trueno es uno de los grandes artistas latinoamericanos de nuestros tiempos. Un rapero que comenzó destacándose en las batallas de freestyle en su natal Buenos Aires y hoy ha logrado el reconocimiento internacional además de acumular millones de oyentes en plataformas digitales. Este 7 de junio el Movistar Arena será testigo del prime de uno de los nuevos grandes del universo urbano."]},"additionalInfo":{"type":"array","description":"The additional info of the event","example":["Prohibido el ingreso de menores de edad","No se permite el ingreso de alimentos y bebidas","No se permite el ingreso de cámaras fotográficas"],"items":{"type":"string"}},"organizer":{"$ref":"#/components/schemas/OrganizerDTO","description":"The organizer of the event information"}}},"OrganizerDTO":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the organizer","example":"001b2f30-9a84-45e1-9345-518bea8a77c8"},"name":{"type":"string","description":"The name of the organizer","example":"Movistar Arena"},"url":{"type":"string","description":"The description of the organizer","example":"https://movistararena.co/"},"logo":{"$ref":"#/components/schemas/ImageDTO","description":"The logo of the organizer"}}}},"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
